#-*- mode:snakemake -*-
extra_conf_fn = srcdir('db.config')
if os.path.exists(extra_conf_fn):
    with open(extra_conf_fn) as fh:
        c  = yaml.load(fh) or {}
        update_config2(config, c)

BIO_SOURCE = config.get('bio_source')

if 'REF_DIR' in locals() and REF_DIR is not None:
    pass
elif 'ref_dir' in config:
    REF_DIR = config['ref_dir']
elif 'reference_db' in config['db']:
    ref = config['db']['reference_db']
    DB_CONF = config['db'].get(ref, {})
    REF_DIR = join(EXT_DIR, ref, DB_CONF.get('version'))
else:
    raise ValueError('Reference dir missing. Check config or other ways for ref dir setup')

include:
    'db/qiime2.db'
